[project]
name = "dronecom"
version = "0.1.0"
description = "Serial data reader for Raspberry Pi 3"
channels = ["conda-forge"]
platforms = ["linux-aarch64", "osx-arm64", "linux-64", "osx-64", "win-64"]

[tasks]
run = "python serial_reader.py"
run-mac = "python serial_reader.py -c mac"
test = "pytest"
backend = "python backend.py"
backend-mac = "python backend.py -c mac"
frontend-install = "cd frontend && npm install"
frontend-build = { cmd = "cd frontend && npm run build", depends-on = ["frontend-install"] }
serve = { cmd = "python backend.py", depends-on = ["frontend-build"] }
serve-mac = { cmd = "python backend.py -c mac", depends-on = ["frontend-build"] }
serve-win = { cmd = "python backend.py -c win", depends-on = ["frontend-build"] }

[dependencies]
python = ">=3.10"
pyserial = ">=3.5"
pyyaml = ">=6.0"
pytest = ">=7.0"
fastapi = ">=0.104"
uvicorn = ">=0.24"
websockets = ">=12.0"
nodejs = ">=20"
